let open=!1;const rarityColors={common:"rgb(200,200,200)",rare:"rgb(100,200,100)",super_rare:"rgb(100,150,200)",epic:"rgb(200,100,200)",legendary:"rgb(220,220,10)",uber:"rgb(255,0,0)",starter:"rgb(255,255,255)"},typeMap={"Card Background":"personalbg","Color Scheme":"personalcolor"},itemMap=new Map;async function hi(){let t=await fetch((localStorage.getItem("dev")?"http://localhost:8080":"https://api.dazai.app")+"/eco/getInv",{headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}});for(t=await t.json(),console.log(t),document.getElementById("username").innerText=t.userInfo.name,document.getElementById("coins").innerText=t.userInfo.coins+" DazCoin";document.getElementById("shopArea").childNodes.length;)document.getElementById("shopArea").removeChild(document.getElementById("shopArea").childNodes[0]);for(let e=0;e<t.inv.length;e++){const o=t.inv[e];itemMap.set(o.itemID,o),document.getElementById("shopArea").innerHTML+=`<div class="col-md-6 col-lg-4" style="/*transform: translateY(100%);*/">\n\t\t<div class="card shopCard" style="${t.itemsLoaded.includes(o.itemID)?"background-color:rgb(10,10,10)":""}"><img class="card-img-top w-100 d-block" src="${o.image}" />\n\t\t\t<div class="card-body">\n\t\t\t\t<h4 class="card-title">${o.itemName}</h4>\n\t\t\t\t<h6 class="text-center card-title" style="color:${rarityColors[o.rarity]};">${o.rarity.toUpperCase().replace(/_/g," ")}</h6>\n\t\t\t\t<p class="card-text">${o.itemLore}</p>\n\t\t\t</div>\n\t\t\t<div><button class="btn btn-outline-primary btn-sm" type="button" style="color:${rarityColors[o.rarity]};border-color:${rarityColors[o.rarity]}" id="${o.itemID}" onClick="${t.itemsLoaded.includes(o.itemID)?"":`setActive('${o.itemID}')`}">${t.itemsLoaded.includes(o.itemID)?"SELECTED":"SET AS ACTIVE"}</button></div>\n\t\t</div>\n\t</div>`}Array.from(document.getElementsByClassName("unblur")).forEach(t=>t.classList.remove("unblur"))}async function setActive(t){if(t=itemMap.get(t),open)return;open=!0,console.log(t);let e=await fetch((localStorage.getItem("dev")?"http://localhost:8080":"https://api.dazai.app")+"/eco/setActive",{headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")},method:"POST",body:JSON.stringify({item:t.itemID,type:typeMap[t.type]})}),o=await e.json();console.log(o),hi(),open=!1}hi();